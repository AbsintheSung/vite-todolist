import{u as h,r as _,j as b,o as w,c as x,a as t,f as v,g as i,v as d,n as u,t as p,k as g,l as k,m as y,p as A,b as P}from"./index-cWwjqs2d.js";import{_ as T,T as W}from"./TodoList-Title-DT4f7pLn.js";import{T as S}from"./TitleImage-Dw57jZpf.js";async function j(l,m,e=null){try{let n={method:m,headers:{"Content-Type":"application/json"},cache:"no-cache"};e&&(n.body=JSON.stringify(e));const r=await fetch(l,n);if(!r.ok){let s=await r.json();throw console.log("註冊錯誤資訊",s),new Error(s.message)}return await r.json()}catch(n){throw n}}const c=l=>(A("data-v-b31fc40c"),l=l(),P(),l),V={class:"register-container pt-5 pt-md-0 d-md-flex justify-content-md-around"},C={class:"pt-md-111"},I={class:"register-form-size fm-Noto-Sans-TC pt-md-81"},E=c(()=>t("h3",{class:"fs-20 fw-bold text-center mt-3 mb-26 mt-md-0 mb-md-4"},"註冊帳號",-1)),N={class:"d-flex flex-column justify-content-center align-items-start"},O={class:"d-flex flex-column w-100 mb-4"},U=c(()=>t("label",{class:"mb-1"},"Email",-1)),z={class:"d-flex flex-column w-100 mb-4"},B=c(()=>t("label",{class:"mb-1"},"您的暱稱",-1)),M={class:"d-flex flex-column w-100 mb-4"},D=c(()=>t("label",{class:"mb-1"},"Password",-1)),H={class:"d-flex flex-column w-100 mb-4"},J=c(()=>t("label",{class:"mb-1"},"再次輸入密碼",-1)),L={__name:"register",setup(l){const m=h(),e=_({email:{content:"",alert:"",isAlert:!1,state:!1},nickname:{content:"",alert:"",isAlert:!1,state:!1},password:{content:"",alert:"",isAlert:!1,state:!1},doublePassWord:{content:"",alert:"",isAlert:!1,state:!1}});async function n(){let s={email:e.value.email.content,nickname:e.value.nickname.content,password:e.value.password.content};try{(await j("https://todolist-api.hexschool.io/users/sign_up","POST",s)).status&&m.push("/")}catch(a){console.error("登入過程中發生錯誤",a)}}function r(){return Object.keys(e.value).forEach(function(s){e.value[s].content===""?(e.value[s].isAlert=!0,e.value[s].alert="欄位不可以為空"):(e.value[s].state=!0,e.value[s].isAlert=!1,e.value[s].alert="")}),e.value.doublePassWord.content!=e.value.password.content&&e.value.password.content!=""&&(e.value.doublePassWord.isAlert=!0,e.value.doublePassWord.state=!1,e.value.doublePassWord.alert="密碼與設定不相同"),Object.values(e.value).every(s=>s.state)}return(s,a)=>{const f=b("router-link");return w(),x("div",V,[t("div",C,[v(W,{fontSize:32,checkWidth:40,checkHeight:40}),v(S,{width:386,height:386})]),t("div",I,[E,t("form",N,[t("div",O,[U,i(t("input",{type:"text",placeholder:"請輸入Email","onUpdate:modelValue":a[0]||(a[0]=o=>e.value.email.content=o)},null,512),[[d,e.value.email.content]]),t("p",{class:u(["noActive",{active:e.value.email.isAlert}])},p(e.value.email.alert),3)]),t("div",z,[B,i(t("input",{type:"text",placeholder:"請輸入您的暱稱","onUpdate:modelValue":a[1]||(a[1]=o=>e.value.nickname.content=o)},null,512),[[d,e.value.nickname.content]]),t("p",{class:u(["noActive",{active:e.value.nickname.isAlert}])},p(e.value.nickname.alert),3)]),t("div",M,[D,i(t("input",{type:"password",placeholder:"請輸入密碼","onUpdate:modelValue":a[2]||(a[2]=o=>e.value.password.content=o)},null,512),[[d,e.value.password.content]]),t("p",{class:u(["noActive",{active:e.value.password.isAlert}])},p(e.value.password.alert),3)]),t("div",H,[J,i(t("input",{type:"password",placeholder:"請再次輸入密碼","onUpdate:modelValue":a[3]||(a[3]=o=>e.value.doublePassWord.content=o)},null,512),[[d,e.value.doublePassWord.content]]),t("p",{class:u(["noActive",{active:e.value.doublePassWord.isAlert}])},p(e.value.doublePassWord.alert),3)]),t("button",{class:"align-self-center py-12 px-5 bg-dark text-white",onClick:a[4]||(a[4]=g(o=>r()?n():null,["prevent"]))},"註冊帳號"),v(f,{to:"/",class:"fw-bold text-dark align-self-center mt-4 text-decoration-none"},{default:k(()=>[y("登入")]),_:1})])])])}}},F=T(L,[["__scopeId","data-v-b31fc40c"]]);export{F as default};
